### ğŸ† 2022 ìº¡ìŠ¤í†¤ ë””ìì¸ ê²½ì§„ëŒ€íšŒ ìµœìš°ìˆ˜ìƒ ìˆ˜ìƒ      <br>

## P2D (Play to Donate)<br>
**ë¸”ë¡ì²´ì¸ ê¸°ë°˜ ì‹¤ì‹œê°„ ê¸°ë¶€ í”Œë«í¼**
## ì‹œì—° ì˜ìƒ https://youtu.be/V75_MES1wCI<br>
## P2D Scan Site [P2D Scan](https://62aaa9bef3e87a28946e90d6--stellar-creponne-69e72f.netlify.app/)




## í”„ë¡œì íŠ¸ íë¦„ë„ <br>
![image](https://user-images.githubusercontent.com/79950504/174436552-c50d0d72-d0a7-4ea9-9d23-18a6a634c95d.png)



<br><br>

## 1. ğŸ’¡ ì†Œê°œ <br>
- ê¸ˆì „ì ì¸ ë¶€ë‹´ê°, ë¶ˆíˆ¬ëª…í•œ ê¸°ë¶€ê³¼ì •, ê¸°ë¶€ë‹¨ì²´ì— ëŒ€í•œ ì‹ ë¢°ì„±ë¶€ì¡± ë“± ë‹¤ì–‘í•œ ì´ìœ ë¡œ ë§ì€ ì‚¬ëŒë“¤ì´ ê¸°ë¶€ë¥¼ êº¼ë¦¬ê³  ìˆë‹¤.

- ê¸°ë¶€ì˜ ì‹ ë¢°ì„±ì„ ì œê³µí•˜ê³  íˆ¬ëª…ì„±ì„ í™•ë³´í•˜ë©° ê¸°ë¶€ì— ëŒ€í•œ ë¶ˆì‹ ì„ í•´ì†Œí•´ ì˜¬ë°”ë¥¸ ê¸°ë¶€ë¬¸í™” í™•ì‚°ì— ê¸°ì—¬í•˜ê³ ì ê°œë°œì„ ì§„í–‰í•˜ê²Œ ëœë‹¤.

- ë©”íƒ€ë§ˆìŠ¤í¬ë¥¼ í†µí•´ ê°„ë‹¨í•œ ë¡œê·¸ì¸ì„ ì§„í–‰í•˜ê³ , ê°„ë‹¨í•œ ê²Œì„ì„ í”Œë ˆì´í•œ ë’¤ ê·¸ ì ìˆ˜ì— ë¹„ë¡€í•˜ì—¬ P2D í† í°ì„ ë°œê¸‰ ë°›ì„ ìˆ˜ ìˆë‹¤.

- ì§€ì •ëœ ê¸°ë¶€ì²˜(íŠ¹ì • ì§€ê°‘ì£¼ì†Œ)ë¡œë§Œ í† í°ì„ ì „ì†¡í•  ìˆ˜ ìˆë„ë¡ Smart Contractì— White List ì¡°ê±´ì„ ë“±ë¡í•˜ì˜€ë‹¤.

- ê¸°ë¶€ê°€ ì´ë£¨ì–´ì§€ëŠ” ë™ì•ˆ ìì²´ ê°œë°œí•œ íŠ¸ëœì­ì…˜ ìŠ¤ìº” ì‚¬ì´íŠ¸ë¥¼ ë„ì›Œì¤˜ ê¸°ë¶€ì˜ íë¦„ì„ ì§ì ‘ì ìœ¼ë¡œ í™•ì¸í•  ìˆ˜ ìˆë‹¤.

- ì´í›„ 1íšŒì— í•œí•˜ì—¬ ê¸°ë¶€ì¦ì„œ NFTë¥¼ ë°œê¸‰ ë°›ì„ ìˆ˜ ìˆë‹¤.


<br>


## 2. ğŸ’» Language&Tools&API <br>
* Remix IDE (Solidity)  
* Unity (C#)  
* Eth Scan API (Web3.js, html, JavaScript)  

    
<br><br>

## 3. ğŸ›  ê¸°ëŠ¥êµ¬í˜„ <br>

 ![site](https://user-images.githubusercontent.com/79950091/174741740-d33d138c-4c4f-4389-8e8e-9753b62a0197.png)
### 3.1 P2D transaction monitoring

Web3.jsì™€ JavaScriptë¥¼ ì‚¬ìš©í•œ P2D í”Œë«í¼ ë‚´ì˜ donate transaction í˜„í™©ì„ ì¡°íšŒ ê°€ëŠ¥í•œ ì‚¬ì´íŠ¸ë¥¼ êµ¬í˜„í•˜ì˜€ë‹¤. Txn Hashë¥¼ í´ë¦­í•˜ì—¬ í´ë¦­í•œ transactionì˜
Details ì¡°íšŒê°€ ê°€ëŠ¥í•˜ë‹¤.

![intro](https://user-images.githubusercontent.com/79950091/174742132-39e9f7ef-7852-43b7-a0fc-236cad3ddc41.png)
### 3.2 P2D main interface

Main interfaceì˜ Start buttonì„ í†µí•´ Metamaskë¡œê·¸ì¸ì„ í†µí•˜ì—¬ ê²Œì„ì— ì ‘ì†ê°€ëŠ¥í•˜ë‹¤.

![main](https://user-images.githubusercontent.com/79950091/174742235-925d3a54-9cb5-4fe7-bebe-3d7c3da27dd4.png)
### 3.3 P2D In-game interface

Character ìƒë‹¨ì— metamask ê³„ì • ì£¼ì†Œì™€ ì¢Œì¸¡ ìƒë‹¨ì˜ ë³´ìœ í•œ í† í°ì˜ ê°œìˆ˜, ê°¤ëŸ¬ë¦¬ í˜•ì‹ì˜In-gameì„ í†µí•´ Playë¥¼ ì§„í–‰í•œë‹¤.

![tokendeploy](https://user-images.githubusercontent.com/79950091/174958389-61d212a9-f9c9-4a07-8ae4-71f59f2e68b1.png)
### 3.4 P2D Token deploy

SmartContractë¡œ ì‘ì„±í•œ ERC-20ì˜ í† í° mintingê³¼ 
ë°œê¸‰ í›„ì˜ transactionì¡°íšŒë¥¼ ìˆ˜í–‰í•˜ëŠ” ë™ì‘ì´ë‹¤.

![tokendonate](https://user-images.githubusercontent.com/79950091/174958629-dd54eaff-75d7-470f-844b-299cf112b423.png)
### 3.5 P2D Token Donate

SmartContractë¡œ ì‘ì„±í•œ ERC-20 ê¸°ë°˜ í† í°ì˜ Donateì™€ 
Donate í›„ì˜transaction ì¡°íšŒë¥¼ ìˆ˜í–‰í•˜ëŠ” ë™ì‘ì´ë‹¤. í•´ë‹¹ Donationì˜ ì£¼ì†Œ ì •ë³´ë¥¼ Whitelistì— ë“±ë¡ì‹œì¼œ    
ì‚¬ìš©ìê°€ ë‹¤ë¥¸ ì§€ê°‘ ì£¼ì†Œë¡œ ì „ì†¡í•˜ì§€ ëª»í•˜ë„ë¡ êµ¬í˜„í•˜ì˜€ë‹¤.

![NFT](https://user-images.githubusercontent.com/79950091/174958633-524ce647-fc71-4110-8947-f3dc7ba1092e.png)
### 3.6 P2D NFT Deploy

SmartContractë¡œ ì‘ì„±í•œ ERC-721(NFT)ì˜ ë°œê¸‰ê³¼ ë°œê¸‰ëœ NFTì •ë³´ë¥¼
Opensea(NFTê±°ë˜ì†Œ)ì—ì„œ í™•ì¸í•˜ëŠ” ë™ì‘ì´ë‹¤.
NFT ë°œê¸‰ìëŠ” isNFT = trueë¡œ ë“±ë¡ì‹œì¼œ ê¸°ë¶€ì ë‹¹ 1íšŒë§Œ NFTë°œê¸‰ì´ ê°€ëŠ¥í•˜ë„ë¡ êµ¬í˜„í•˜ì˜€ë‹¤.
<br><br>
'''

using UnityEngine;
using UnityEngine.UI;
using System.Threading.Tasks;
using TMPro;

public class TestSolidityScore : MonoBehaviour
{
    //public InputField input;
    public TMP_Text firstRank;
    public TMP_Text secondtRank;
    public TMP_Text thirdRank;
    public TMP_Text fourthRank;
    public TMP_Text fifthRank;

    public TMP_Text address;

    //public Text data;
   
    public Text balanceTxt;

    public Button Donatebtn;
    //public Button Rankbtn;
    public Button GetTokenbtn;

    private float TimeLeft = 1.0f;
    private float NextTime = 0.0f;

    // í”„ë¡œì íŠ¸ ì‹œì‘ì‹œ
    public void Start()
    {
        var myaddress = PlayerPrefs.GetString("Account");
        address.text = myaddress;
    }

    // 1ì´ˆë§ˆë‹¤ Rank ìƒˆë¡œê³ ì¹¨
    async void Update()
    {
        if (Time.time > NextTime)
        {
            NextTime = Time.time + TimeLeft;
            await Refresh();
        }

    }

    // ìŠ¤ë§ˆíŠ¸ê³„ì•½ì—ì„œ ì‹¤í–‰ëœ score Rank ë‚˜ì—´(get)
    async Task Refresh()
    {
        decimal dee = 1000000000000000000;
        var address = PlayerPrefs.GetString("Account");

        string chain = "ethereum";
        // set network mainnet, testnet
        string network = "rinkeby";

        var ABI = "[{\"inputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"constructor\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"address\",\"name\":\"account\",\"type\":\"address\"}],\"name\":\"AddedToWhitelist\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"address\",\"name\":\"owner\",\"type\":\"address\"},{\"indexed\":true,\"internalType\":\"address\",\"name\":\"spender\",\"type\":\"address\"},{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"value\",\"type\":\"uint256\"}],\"name\":\"Approval\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"address\",\"name\":\"account\",\"type\":\"address\"}],\"name\":\"RemovedFormWhitelist\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"address\",\"name\":\"from\",\"type\":\"address\"},{\"indexed\":true,\"internalType\":\"address\",\"name\":\"to\",\"type\":\"address\"},{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"value\",\"type\":\"uint256\"}],\"name\":\"Transfer\",\"type\":\"event\"},{\"inputs\":[],\"name\":\"_addr\",\"outputs\":[{\"internalType\":\"address payable\",\"name\":\"\",\"type\":\"address\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"}],\"name\":\"_userscore\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"_addr\",\"type\":\"address\"}],\"name\":\"add_Whitelist\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"owner\",\"type\":\"address\"},{\"internalType\":\"address\",\"name\":\"spender\",\"type\":\"address\"}],\"name\":\"allowance\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"amount\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"spender\",\"type\":\"address\"},{\"internalType\":\"uint256\",\"name\":\"amount\",\"type\":\"uint256\"}],\"name\":\"approve\",\"outputs\":[{\"internalType\":\"bool\",\"name\":\"\",\"type\":\"bool\"}],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"account\",\"type\":\"address\"}],\"name\":\"balanceOf\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"decimals\",\"outputs\":[{\"internalType\":\"uint8\",\"name\":\"\",\"type\":\"uint8\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"spender\",\"type\":\"address\"},{\"internalType\":\"uint256\",\"name\":\"subtractedValue\",\"type\":\"uint256\"}],\"name\":\"decreaseAllowance\",\"outputs\":[{\"internalType\":\"bool\",\"name\":\"\",\"type\":\"bool\"}],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"_number\",\"type\":\"uint256\"}],\"name\":\"getUserScore\",\"outputs\":[{\"internalType\":\"address\",\"name\":\"user_addr\",\"type\":\"address\"},{\"internalType\":\"uint256\",\"name\":\"user_score\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"spender\",\"type\":\"address\"},{\"internalType\":\"uint256\",\"name\":\"addedValue\",\"type\":\"uint256\"}],\"name\":\"increaseAllowance\",\"outputs\":[{\"internalType\":\"bool\",\"name\":\"\",\"type\":\"bool\"}],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"_address\",\"type\":\"address\"}],\"name\":\"isWhitelisted\",\"outputs\":[{\"internalType\":\"bool\",\"name\":\"\",\"type\":\"bool\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"name\",\"outputs\":[{\"internalType\":\"string\",\"name\":\"\",\"type\":\"string\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"_address\",\"type\":\"address\"}],\"name\":\"remove_whitelist\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"_score\",\"type\":\"uint256\"}],\"name\":\"reward\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"score\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"_value\",\"type\":\"uint256\"}],\"name\":\"send\",\"outputs\":[],\"stateMutability\":\"payable\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"symbol\",\"outputs\":[{\"internalType\":\"string\",\"name\":\"\",\"type\":\"string\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"name\":\"topScores\",\"outputs\":[{\"internalType\":\"address\",\"name\":\"addr\",\"type\":\"address\"},{\"internalType\":\"uint256\",\"name\":\"score\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"totalSupply\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"to\",\"type\":\"address\"},{\"internalType\":\"uint256\",\"name\":\"amount\",\"type\":\"uint256\"}],\"name\":\"transfer\",\"outputs\":[{\"internalType\":\"bool\",\"name\":\"\",\"type\":\"bool\"}],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"from\",\"type\":\"address\"},{\"internalType\":\"address\",\"name\":\"to\",\"type\":\"address\"},{\"internalType\":\"uint256\",\"name\":\"amount\",\"type\":\"uint256\"}],\"name\":\"transferFrom\",\"outputs\":[{\"internalType\":\"bool\",\"name\":\"\",\"type\":\"bool\"}],\"stateMutability\":\"nonpayable\",\"type\":\"function\"}]";
        var contract = "0x8cEdbB2dDf799d486ef4544663AAC7092547f55e";

        // smart contract method to call
        string method = "getUserScore";
        string method2 = "balanceOf";
        string firstArg = "[\"0\"]";
        string secondArg = "[\"1\"]";
        string thirdArg = "[\"2\"]";
        string fourthArg = "[\"3\"]";
        string fifthArg = "[\"4\"]";
        string account = "[\"" + address + "\"]";
        // connects to user's browser wallet to call a transaction
        string first = await EVM.Call(chain, network, contract, ABI, method, firstArg);
        string second = await EVM.Call(chain, network, contract, ABI, method, secondArg);
        string third = await EVM.Call(chain, network, contract, ABI, method, thirdArg);
        string fourth = await EVM.Call(chain, network, contract, ABI, method, fourthArg);
        string fifth = await EVM.Call(chain, network, contract, ABI, method, fifthArg);
        string balance = await EVM.Call(chain, network, contract, ABI, method2, account);

        // " ê¸°ì¤€ìœ¼ë¡œ ë¬¸ìì—´ ìë¥´ëŠ” ê³¼ì •
        char sp = '"';

        // ë‚˜ëˆ„ì–´ì§„ ë¬¸ìì—´ì„ ë°°ì—´ì— ì €ì¥
        string[] firstStr = first.Split(sp);
        string[] secondStr = second.Split(sp);
        string[] thirdStr = third.Split(sp);
        string[] fourthStr = fourth.Split(sp);
        string[] fifthStr = fifth.Split(sp);

        // í•„ìš”í•œ ë¬¸ìì—´ë§Œ ì¶”ì¶œ
        try
        {
            firstRank.text = firstStr[3] + "    " + firstStr[7];
            secondtRank.text = secondStr[3] + "    " + secondStr[7];
            thirdRank.text = thirdStr[3] + "    " + thirdStr[7];
            fourthRank.text = fourthStr[3] + "    " + fourthStr[7];
            fifthRank.text = fifthStr[3] + "    " + fifthStr[7];
        }
        catch
        {
            firstRank.text = "UnRanked";
            secondtRank.text = "UnRanked";
            thirdRank.text = "UnRanked";
            fourthRank.text = "UnRanked";
            fifthRank.text = "UnRanked";
        }

        try
        {
            balanceTxt.text = (decimal.Parse(balance) / dee).ToString();
        }
        catch
        {
            balanceTxt.text = "0";
        }
    }
}
'''


<br><br><br><br>

## 4.ğŸ§© ê²°ë¡  <br>
Unity Web3GLì„ í†µí•´ ë¹Œë“œ ë˜ì—ˆê¸° ë•Œë¬¸ì— MetaMaskë¡œ ê°„ë‹¨í•œ ë¡œê·¸ì¸ì´ ê°€ëŠ¥í•˜ë‹¤. 
ì´í›„ ê°„ë‹¨í•œ ì¼íšŒì„± ê²Œì„ì„ í”Œë ˆì´í•˜ë©´ ê·¸ ìŠ¤ì½”ì–´ì— ë¹„ë¡€í•´ ìì²´ ê°œë°œí•œ P2D í† í°ì„ ë°œê¸‰ ë°›ì„ ìˆ˜ ìˆë‹¤. 
í•´ë‹¹ í† í°ì€ ìŠ¤ë§ˆíŠ¸ ì»¨íŠ¸ë™íŠ¸ì— ë“±ë¡ëœ í™”ì´íŠ¸ ë¦¬ìŠ¤íŠ¸ ì¡°ê±´ì— ë”°ë¼ ì§€ì •ëœ ì£¼ì†Œë¡œë§Œ ì „ì†¡ì´ ê°€ëŠ¥í•˜ë‹¤. 
ë³¸ ê³¼ì •ì„ í†µí•´ ê¸°ë¶€ë¥¼ ì§„í–‰í•œ ì‚¬ìš©ìëŠ” 1íšŒì— í•œí•˜ì—¬ NFT ê¸°ë¶€ì¦ì„œë¥¼ ë°œê¸‰ ë°›ì„ ìˆ˜ ìˆë‹¤. 
ëª¨ë“  ê¸°ë¶€ ê³¼ì •ì„ ì§ì ‘ì ìœ¼ë¡œ í™•ì¸ ê°€ëŠ¥í•œ íŠ¸ëœì­ì…˜ ëª¨ë‹ˆí„°ë§ ì‚¬ì´íŠ¸ ì—­ì‹œ ê°œë°œí•˜ì˜€ë‹¤. 
ê¸°ë¶€ì— ìˆì–´ í° ë¬¸ì œë¡œ ì†ê¼½íˆê³  ìˆëŠ” â€œê²½ì œì  ì—¬ìœ â€, â€œê¸°ë¶€ ë‹¨ì²´ì— ëŒ€í•œ ì‹ ë¢°ì„±â€, â€œê¸°ë¶€ ê³¼ì •ì˜ íˆ¬ëª…ì„±â€ì„ í•´ê²°í•  ìˆ˜ ìˆì„ê²ƒìœ¼ë¡œ ê¸°ëŒ€ëœë‹¤.
<br><br>

![image](https://user-images.githubusercontent.com/74412438/196713643-24523058-dbae-4993-9dbd-4d9fae8bdeea.png)


